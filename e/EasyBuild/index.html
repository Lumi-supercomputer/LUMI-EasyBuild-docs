


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the LUMI software library">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>EasyBuild - LUMI Software Library</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.body.addEventListener("click", function(ev) {
        if (ev.target instanceof HTMLElement) {
          var el = ev.target.closest("a[href^=http]")
          if (el)
            ga("send", "event", "outbound", "click", el.href)
        }
      })
    })
  </script>

    

  
  
  
    
  

  
  

  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LUMI Software Library - EasyBuild" />
  <meta property="og:description" content="Documentation for the LUMI software library" />
  <meta property="og:url" content="None" />
  <meta property="og:image" content="assets/images/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@LUMIhpc" />
  <meta name="twitter:creator" content="@LUMIhpc" />
  <meta name="twitter:title" content="LUMI Software Library - EasyBuild" />
  <meta name="twitter:description" content="Documentation for the LUMI software library" />
  <meta name="twitter:image" content="assets/images/banner.png" />

  <style>
    [data-md-color-primary="lumi"] {
      --md-primary-fg-color: hsla(0, 0%, 100%, 1);
      --md-primary-fg-color--light: hsla(0, 0%, 100%, 0.7);
      --md-primary-fg-color--dark: hsla(0, 0%, 0%, 0.07);
      --md-primary-bg-color: hsla(0, 0%, 0%, 0.87);
      --md-primary-bg-color--light: hsla(0, 0%, 0%, 0.54);
      --md-button-bg-color: hsla(207,100%,28%, 1);
      --md-button-bg-color--light: hsla(207,100%,38%, 1);
      --md-typeset-a-color: hsla(207,100%,28%, 1);
    }
    
    [data-md-color-accent="lumi"] {
      --md-accent-fg-color: hsla(0,0%,0%, 1);
      --md-accent-fg-color--transparent: hsla(0,0%,0%, 0.1);
      --md-accent-bg-color: hsla(0, 0%, 100%, 1);
      --md-accent-bg-color--light: hsla(0, 0%, 100%, 0.7);
    }
  </style>

  


  
  

    <link
      rel="stylesheet"
      href="../../assets/stylesheets/extra-a8af0af3d0.css"
    />
    <link
      rel="stylesheet"
      href="../../assets/stylesheets/overrides-5193e6f6df.css"
    />
    <link
      rel="stylesheet"
      id="typekit-fonts-css"
      href="https://use.typekit.net/nlo5lta.css?ver=5.5.3"
      type="text/css" media="all"
    />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lumi" data-md-color-accent="lumi">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#easybuild" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LUMI Software Library" class="md-header__button md-logo" aria-label="LUMI Software Library" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LUMI Software Library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              EasyBuild
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#a" class="md-tabs__link">
        
  
  
    
  
  a

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#b" class="md-tabs__link">
        
  
  
    
  
  b

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#c" class="md-tabs__link">
        
  
  
    
  
  c

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#d" class="md-tabs__link">
        
  
  
    
  
  d

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#e" class="md-tabs__link">
        
  
  
    
  
  e

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#f" class="md-tabs__link">
        
  
  
    
  
  f

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#g" class="md-tabs__link">
        
  
  
    
  
  g

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#h" class="md-tabs__link">
        
  
  
    
  
  h

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#I/ICU" class="md-tabs__link">
        
  
  
    
  
  I/ICU

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#i" class="md-tabs__link">
        
  
  
    
  
  i

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#j" class="md-tabs__link">
        
  
  
    
  
  j

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#k" class="md-tabs__link">
        
  
  
    
  
  k

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#l" class="md-tabs__link">
        
  
  
    
  
  l

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#m" class="md-tabs__link">
        
  
  
    
  
  m

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#n" class="md-tabs__link">
        
  
  
    
  
  n

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#o" class="md-tabs__link">
        
  
  
    
  
  o

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#p" class="md-tabs__link">
        
  
  
    
  
  p

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#q" class="md-tabs__link">
        
  
  
    
  
  q

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#r" class="md-tabs__link">
        
  
  
    
  
  r

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#s" class="md-tabs__link">
        
  
  
    
  
  s

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#t" class="md-tabs__link">
        
  
  
    
  
  t

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#u" class="md-tabs__link">
        
  
  
    
  
  u

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#v" class="md-tabs__link">
        
  
  
    
  
  v

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#w" class="md-tabs__link">
        
  
  
    
  
  w

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#x" class="md-tabs__link">
        
  
  
    
  
  x

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#y" class="md-tabs__link">
        
  
  
    
  
  y

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#z" class="md-tabs__link">
        
  
  
    
  
  z

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../known_issues/" class="md-tabs__link">
        
  
  
    
  
  Issues

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../whats_new/" class="md-tabs__link">
        
  
  
    
  
  New

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LUMI Software Library" class="md-nav__button md-logo" aria-label="LUMI Software Library" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    LUMI Software Library
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#a" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    a
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#b" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    b
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#c" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    c
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#d" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    d
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#e" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    e
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#f" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    f
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#g" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    g
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#h" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    h
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#I/ICU" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I/ICU
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#i" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    i
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#j" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    j
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#k" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    k
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#l" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    l
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#m" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    m
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#n" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    n
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#o" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    o
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#p" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    p
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#q" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    q
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#r" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    r
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#s" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    s
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#t" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    t
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#u" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    u
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#v" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#w" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    w
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#x" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    x
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#y" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    y
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#z" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    z
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known_issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Issues
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats_new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    New
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#license-information" class="md-nav__link">
    <span class="md-ellipsis">
      
        License information
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        User documentation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-easybuild" class="md-nav__link">
    <span class="md-ellipsis">
      
        What is EasyBuild?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-easybuild-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using EasyBuild on LUMI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-installed-modules-and-easyconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-installed modules (and EasyConfigs)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical documentation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-note-on-p7zip" class="md-nav__link">
    <span class="md-ellipsis">
      
        A note on p7zip
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easybuild-installation-on-lumi" class="md-nav__link">
    <span class="md-ellipsis">
      
        EasyBuild installation on LUMI
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EasyBuild installation on LUMI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      
        General guidelines
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-442-for-lumi2108" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.4.2 for LUMI/21.08
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-453-for-lumi2112" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.5.3 for LUMI/21.12
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-460-for-lumi2206-and-lumi2208" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.6.0 for LUMI/22.06 and LUMI/22.08
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-471-for-lumi2212-and-lumi2303" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.7.1 for LUMI/22.12 and LUMI/23.03
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-482-for-lumi2309" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.8.2 for LUMI/23.09
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-492-for-lumi2312-and-2403" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.9.2 for LUMI/23.12 and 24.03
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-494-for-lumi2411" class="md-nav__link">
    <span class="md-ellipsis">
      
        Version 4.9.4 for LUMI/24.11
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easybuild-512-for-2503" class="md-nav__link">
    <span class="md-ellipsis">
      
        EasyBuild 5.1.2 for 25.03
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixes-needed-to-easyconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixes needed to EasyConfigs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fixes needed to EasyConfigs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metis" class="md-nav__link">
    <span class="md-ellipsis">
      
        METIS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parmetis" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParMETIS
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archived-easyconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Archived EasyConfigs
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  
  




<p><a href="../../">[package list]</a></p>
<h1 id="easybuild">EasyBuild</h1>
<p><span class='lumi-software-button-preinstalled-hover'><span class='lumi-software-button-preinstalled'></span></span></p>
<h2 id="license-information">License information</h2>
<p>EasyBuild is made available under the
<a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GNU General Public License version 2</a>.</p>
<p>The lzip commands is distributed under the 
<a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GNU General Public License version 2</a></p>
<p>The p7zip package is covered by the 
<a href="https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html">GNU Lesser General Public License v2.1</a>
or later. Files for RAR (un)compression though have a restriction.
See the <a href="https://github.com/p7zip-project/p7zip/blob/master/DOC/License.txt">License.txt file in the p7zip GitHub repository</a>.</p>
<p>After loading the module, the license files for each of these packages are available
in their respective subdirectories of 
<code>$EBROOTEASYBUILD/share/licenses</code>.</p>
<h2 id="user-documentation">User documentation</h2>
<h3 id="what-is-easybuild">What is EasyBuild?</h3>
<p>EasyBuild is a software build and installation framework
written in Python that allows you to install software in a structured,
repeatable and robust way.</p>
<p>There is a <a href="https://docs.easybuild.io/">web-based manual for EasyBuild</a>.
<a href="https://easybuild.io/tutorial/">Tutorials</a> are also available on the web,
including a 
<a href="https://lumi-supercomputer.github.io/LUMI-training-materials/EasyBuild-CSC-20220509/">tutorial specifically for LUMI in our training archive web site</a>.</p>
<h3 id="using-easybuild-on-lumi">Using EasyBuild on LUMI</h3>
<p>Loading the EasyBuild module only gives you a standard configuration of EasyBuild that 
will install in your already space-limited home directory, not recognise the already 
installed software in the LUMI software stack, and in fact use build recipes that are
not all compatible with LUMI.</p>
<p>To install software building upon the centrally installed LUMI software stacks
(as provided by the LUMI/xx.yy modules), users should load the EasyBuild-user module
instead as discussed in 
<a href="https://docs.lumi-supercomputer.eu/software/installing/easybuild/">the EasyBuild section of the main LUMI documentation</a>.</p>
<p>Since the LUMI/24.11 software stack, the EasyBuild module also includes some tools 
that EasyBuild might need for some EasyConfigs and that are not present on the 
system. This basically fullfills the task of the EasyBuild-tools module that 
we experimented with for LUMI/23.09.</p>
<p>For the 24.11 version (EasyBuild/4.9.4), <a href="https://www.nongnu.org/lzip/">lzip</a>
and <a href="https://github.com/p7zip-project/p7zip">p7zip</a> are included.</p>
<h2 id="pre-installed-modules-and-easyconfigs">Pre-installed modules (and EasyConfigs)</h2>
<p>To access module help and find out for which stacks and partitions the module is
installed, use <code>module spider EasyBuild/&lt;version&gt;</code>.</p>
<p>EasyConfig:</p>
<ul>
<li>
<p><a href="EasyBuild-4.8.2/">EasyBuild/4.8.2 (EasyConfig: EasyBuild-4.8.2.eb)</a></p>
</li>
<li>
<p><a href="EasyBuild-4.9.1/">EasyBuild/4.9.1 (EasyConfig: EasyBuild-4.9.1.eb)</a></p>
</li>
<li>
<p><a href="EasyBuild-4.9.2/">EasyBuild/4.9.2 (EasyConfig: EasyBuild-4.9.2.eb)</a></p>
</li>
<li>
<p><a href="EasyBuild-4.9.4/">EasyBuild/4.9.4 (EasyConfig: EasyBuild-4.9.4.eb)</a></p>
</li>
<li>
<p><a href="EasyBuild-5.1.2-bootstrap/">EasyBuild/5.1.2-bootstrap (EasyConfig: EasyBuild-5.1.2-bootstrap.eb)</a></p>
</li>
<li>
<p><a href="EasyBuild-5.1.2/">EasyBuild/5.1.2 (EasyConfig: EasyBuild-5.1.2.eb)</a></p>
</li>
</ul>
<h2 id="technical-documentation">Technical documentation</h2>
<ul>
<li>
<p><a href="https://easybuild.io/">Main EasyBuild web site with links to documentation and sources</a></p>
</li>
<li>
<p>PyPi:</p>
<ul>
<li>
<p><a href="https://pypi.org/project/easybuild/">easybuild install package</a></p>
</li>
<li>
<p><a href="https://pypi.org/project/easybuild-framework/">easybuild-framework</a></p>
</li>
<li>
<p><a href="https://pypi.org/project/easybuild-easyblocks/">easybuild-easyblocks</a></p>
</li>
<li>
<p><a href="https://pypi.org/project/easybuild-easyconfigs/">easybuild-easyconfigs</a></p>
</li>
</ul>
</li>
<li>
<p>Additional tools:</p>
<ul>
<li>
<p>lzip:</p>
<ul>
<li>
<p><a href="https://www.nongnu.org/lzip/">Home page</a></p>
</li>
<li>
<p><a href="https://download.savannah.gnu.org/releases/lzip/">Downloads</a></p>
</li>
</ul>
</li>
<li>
<p>p7zip</p>
<ul>
<li>
<p><a href="https://github.com/p7zip-project/p7zip/">p7zip on GitHub</a></p>
</li>
<li>
<p><a href="https://github.com/p7zip-project/p7zip/releases">GitHub releases</a></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="a-note-on-p7zip">A note on p7zip</h3>
<p>The p7zip package is a POSIX/Linux port of some of the 
<a href="https://www.7-zip.org/">p7zip Windows tools</a>.
Note that the latest version of 7zip do now support Linux already.</p>
<p>The p7zip tools however are used in certain EasyConfigs to work with ISO files,
e.b., the <a href="https://github.com/easybuilders/easybuild-easyconfigs/tree/develop/easybuild/easyconfigs/m/MATLAB">MATLAB EasyConfigs in the EasyBuilders repository</a>.</p>
<ul>
<li>
<p>New developments <a href="https://github.com/p7zip-project/p7zip/">on GitHub</a>.
    It is a fork from previous versions that are no longer maintained.
    It also extends the tools of the <a href="https://sourceforge.net/projects/sevenzip/">7zip project</a></p>
<ul>
<li><a href="https://github.com/p7zip-project/p7zip/releases">GitHub releases</a></li>
</ul>
</li>
<li>
<p>Older versions <a href="https://p7zip.sourceforge.net/">on SourceForge</a></p>
<ul>
<li><a href="https://sourceforge.net/projects/p7zip/files/p7zip/">SourceForge downloads</a>
    (up to version 16.02)</li>
</ul>
</li>
</ul>
<h3 id="easybuild-installation-on-lumi">EasyBuild installation on LUMI</h3>
<ul>
<li>
<p><a href="https://github.com/easybuilders/easybuild-easyconfigs/tree/develop/easybuild/easyconfigs/e/EasyBuild">EasyBuild EasyConfigs in the easybuilders repo</a></p>
</li>
<li>
<p><a href="https://github.com/easybuilders/easybuild-easyconfigs/tree/develop/easybuild/easyconfigs/p/p7zip">p7zip in the EasyBuilders repository</a></p>
</li>
</ul>
<h4 id="general-guidelines">General guidelines</h4>
<ul>
<li>
<p>Uniform way of preparing patches:</p>
<ul>
<li>
<p>Uncompress the sources tar file.</p>
</li>
<li>
<p>Rename in the same way as the <code>sources</code> field does: <code>easybuild_framework-5.1.1</code> to
    <code>easybuild-framework-5.1.1</code>, etc. This is needed because PyPi changed the way it treats
    packages with dashes in their name somewhere between the 4.9.1 and 4.9.2 releases
    of EasyBuild.</p>
</li>
<li>
<p>Copy the file you want to change to a file with the additional extension <code>.orig</code>.</p>
</li>
<li>
<p>Edit the file that needs changes.</p>
</li>
<li>
<p>Create the patch. The command we use is something like:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>diff<span class="w"> </span>-Nau<span class="w"> </span>easybuild-framework-5.1.1/easybuild/tools/filetools.py.orig<span class="w"> </span>easybuild-framework-5.1.1/easybuild/tools/filetools.py
</code></pre></div>
    Comment lines can be copied from a previous version of the patch.</p>
</li>
</ul>
</li>
</ul>
<h4 id="version-442-for-lumi2108">Version 4.4.2 for LUMI/21.08</h4>
<ul>
<li>Started from the default EasyConfig but added additional help information
    to the module file.</li>
</ul>
<h4 id="version-453-for-lumi2112">Version 4.5.3 for LUMI/21.12</h4>
<ul>
<li>We activated the new feature to show a progress bar and also added support
    for <code>archspec</code>. This is done by adding additional packages via extensions
    in the EasyConfig. It is a very fragile combination though, only very
    specific combinations of version worked.</li>
</ul>
<h4 id="version-460-for-lumi2206-and-lumi2208">Version 4.6.0 for LUMI/22.06 and LUMI/22.08</h4>
<ul>
<li>The additional packages that are used to activate <code>archspec</code> in EasyBuild
    and to provide the progress bar are a very fragile mix. Updating any of them
    to newer versions didn't work, maybe due to the lack of <code>pip</code> and the very
    old version of <code>python</code> as the system Python.</li>
</ul>
<h4 id="version-471-for-lumi2212-and-lumi2303">Version 4.7.1 for LUMI/22.12 and LUMI/23.03</h4>
<ul>
<li>Trivial port of the 4.6.0 EasyConfig.</li>
</ul>
<h4 id="version-482-for-lumi2309">Version 4.8.2 for LUMI/23.09</h4>
<ul>
<li>
<p>Trivial port of the 4.7.1 EasyConfig.</p>
</li>
<li>
<p>In a later update we added support for loading <code>EasyBuild-tools</code> if available.</p>
</li>
</ul>
<h4 id="version-492-for-lumi2312-and-2403">Version 4.9.2 for LUMI/23.12 and 24.03</h4>
<ul>
<li>
<p>Started as a trivial port of the 4.8.2 EasyConfig</p>
</li>
<li>
<p>At first removed support for loading <code>EasyBuild-tools</code> as the reason for it is<br />
    no longer there (MATLAB installation done differently).</p>
</li>
<li>
<p>Added <code>PyYAML</code> to the list of extra Python packages as we also wanted to use EasyBuild
    with EasyStack files in a container that did not have <code>PyYAMSL</code> in its system Python
    installation.</p>
<p>The problem with this package is that it installs its egg in <code>lib64</code> instead of 
in <code>lib</code> so that two directories need to be added to <code>PYTHONPATH</code>.</p>
</li>
<li>
<p>Needed to modify <code>libsci.py</code> in <code>toolchains/linalg</code> in the framework as it should
    now check <code>CRAY_PE_LIBSCI_PREFIX_DIR</code> instead of <code>CRAY_LIBSCI_PREFIX_DIR</code>. For now
    we check for both so that the same EasyConfig can also be used to install EasyBuild
    for older versions of the Cray PE.</p>
</li>
<li>
<p>Wanted to use <code>postinstallcmds</code> to robustify a number of scripts, but that was<br />
    not supported by the EasyBlock so that one needed to be changed also.</p>
<ul>
<li>
<p>Robustify the <code>eb</code> command:</p>
<ul>
<li>
<p><code>PYTHONPATH</code> is hard-coded in the <code>eb</code> shell script and overwrites anything 
    from the environment.</p>
</li>
<li>
<p>In the loop that searches for a suitable Python command, we added the system
    Python with full path and version at the front of the list. Hence strictly
    speaking <code>EB_PYTHON</code> is no longer needed.</p>
</li>
</ul>
</li>
<li>
<p>Robustifying the <code>archspec</code>, <code>cmark</code> and <code>pygmentize</code> scripts put in the <code>bin</code>
    directory when installing their respective additional packages:</p>
<ul>
<li>
<p>Shebang line changed to explicitly call <code>python3.6</code>, and added the <code>-E</code> 
    option to avoid using the value of <code>PYTHONPATH</code></p>
</li>
<li>
<p>We then used <code>sys.path.append</code> to add the <code>lib</code> subdirectory to the Python 
    search path. The <code>lib64</code> subdirectory was not added as <code>PyYAML</code> is not needed
    by those commands.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>And added sanity checks that explicitly unset <code>PYTHONPATH</code> to verify that these commands
    indeed work without <code>PYTHONPATH</code>.</p>
</li>
<li>
<p>The module however still sets <code>PYTHONPATH</code> as (1) this is difficult to turn off, it is 
    one of those variables generated automatically by EasyBuild if it finds a certain directory,
    and (2) it is still needed when using EasyBuild as a library.</p>
</li>
<li>
<p>During the lifetime of 24.03, we switched to patched EasyBlocks for MesonNinja and for
    ParMETIS. Though the patch was first manually applied on LUMI, the EasyConfig was later 
    modified for easier re-installation on the TDS with an appropriate patch for both files.</p>
</li>
</ul>
<h4 id="version-494-for-lumi2411">Version 4.9.4 for LUMI/24.11</h4>
<ul>
<li>
<p>A big reworking as we now include additional tools in the module. The EasyConfig 
    has been converted into a Bundle.</p>
</li>
<li>
<p>The patch for LibSci was not needed anymore, and the one for keyring has been modified 
    a bit.</p>
</li>
<li>
<p>The patch for keyring was revised and an additional patch was added to support 
    lzipped tarballs (simple by modifying <code>tools/filetools</code> in <code>easybuild-framework</code>). </p>
<p>The patches have to be made differently from before as otherwise EasyBuild could not find
where to apply the patch. So we now start from the <code>system-system</code> subdirectory 
in the unpacked installation and refer to the relative path with respect to this subdirectory
for all patches. This may also require modifying patches that come from the EasyBuild 
repository itself.</p>
</li>
<li>
<p>We also added a patch to fix an issue in the ParMETIS EasyBlock which did honour 
    <code>prebuildopts</code> but does not honour <code>preconfigopts</code> and <code>preinstallopts</code>. We needed
    <code>preconfigopts</code> to work around an issue with the AMD ROCm compilers.</p>
</li>
<li>
<p>Three additional tools were installed:</p>
<ul>
<li>
<p>lzip has a very standard ConfigureMake build process</p>
</li>
<li>
<p>p7zip uses a MakeCp build process and we based the build process on the one 
    in the EasyBuilders EasyConfig.</p>
</li>
<li>
<p>PRoot as that is useful if we want to use the SingularityCE unprivileged proot 
    build process in an EasyConfig to modify an existing container.</p>
</li>
</ul>
</li>
</ul>
<h4 id="easybuild-512-for-2503">EasyBuild 5.1.2 for 25.03</h4>
<ul>
<li>
<p>Patches: The way of applying patches is different in an EasyConfig just for
    EasyBuild or in the Bundle.</p>
<ul>
<li>
<p>When installing in a single package EasyBlock, patching starts from the
    sources directory that contains the framework. Which makes it harder to 
    patch EasyBlocks or EasyConfigs.</p>
</li>
<li>
<p>When installing EasyBuild as a Bundle component, patching starts from the 
    Bundle source directory that contains all sources of all Bundle components.</p>
</li>
</ul>
<p>So the <code>patches</code> part cannot just be copied, we need to make some changes to the 
directory from which they are applied.</p>
<p>We also experienced trouble trying to patch in both cases which is why for both the 
single software install and the Bundle install, we use a more elaborate version of
specifying the patches. </p>
<p>Note that the <a href="https://docs.easybuild.io/patch-files/">documentation for <code>patches</code></a> 
in the EasyBuild documentation was wrong
at the time of writing (September 2025) unless it has changed in EasyBuild 5. 
In fact, the <code>opts</code> field does not exist in EB 4.9.</p>
</li>
<li>
<p>From EasyBuild 5 onwards, we started using Cray Python as the Python implementation to run EasyBuild as
    EasyBuild 5 still supported 3.6, but it was deprecated and not well tested anymore.</p>
<p>To avoid having to load the <code>cray-python</code> module as a dependency, which may interfere with installations
that would use some other Python module, and to robustify the <code>eb</code> command and various scripts installed
by the other Python packages, we edit those scripts with <code>sed</code>:</p>
<ul>
<li>
<p>To robustify the <code>eb</code> command:</p>
<ul>
<li>
<p><code>PYTHONPATH</code> is hard-coded in the <code>eb</code> shell script and overwrites anything from the environment:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>&#39;-e \&#39;s|^PYTHON=.*|export PYTHONPATH=&quot;%(installdir)s/lib/python{local_pyshortver}/site-packages:%(installdir)s/lib64/python{local_pyshortver}/site-packages&quot;\\nPYTHON=|\&#39; &#39;
</code></pre></div></p>
</li>
<li>
<p>In the loop that searches for a suitable Python command, we added the Cray Python <code>python3.XX</code> 
    command with full path and version at the front of the list:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>&#39;-e \&#39;s|for python_cmd in|for python_cmd in &quot;{local_craypython_exe}&quot;|\&#39; &#39;
</code></pre></div>
    with
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>local_pyshortver = &#39;.&#39;.join(local_craypython_version.split(&#39;.&#39;)[:2])
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>local_craypython_exe = f&#39;/opt/cray/pe/python/{local_craypython_version}/bin/python{local_pyshortver}&#39;
</code></pre></div>
    Therefore we don't need to load the <code>cray-python</code> module anymore when running if we do this
    in all such scripts.
    Hence strictly speaking EB_PYTHON is no longer needed.</p>
</li>
</ul>
</li>
<li>
<p>We used a similar strategy to robustify scripts from additional Python packages 
    that we installed. See the next step for how we built a list of packages and 
    package versions to install.</p>
<p>Steps to robustify (applied to <code>archspec,</code>pygmentize<code>,</code>markdown-it<code>and</code>pycodestyle`):</p>
<ul>
<li>
<p>We change the shebang line to explicitly call <code>python3.XX</code> from <code>cray-python</code> with full path
    and version, and we added the -E option to avoid using the value of PYTHONPATH:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>&#39;-e \&#39;s|/opt/.*/python|{local_craypython_exe} -E|\&#39;&#39;
</code></pre></div>
    This again ensures that these scripts can run without the <code>cray-python</code> module loaded.</p>
</li>
<li>
<p>We then used <code>sys.path.append</code> to add the <code>lib</code> subdirectory of the installation directory 
    to the Python search path.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>&#39;-e \&#39;s|import sys|import sys\\nsys.path.append(&quot;%(installdir)s/lib/python{local_pyshortver}/site-packages&quot;)|\&#39;&#39;
</code></pre></div>
    These steps were already the 4.9.2 version that we used from 23.12 onwards, but then using the system Python
    <code>python3.6</code> interpreter from the system installation instead.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Additional Python tools: We like to add them to the same module in the EasyBuild 
    installation, as that avoids a "chicken-and-egg" problem where we would need a 
    bootstrapping process to install a module with those packages which are then 
    used by another EasyBuild module, or we would have to add code to the module file
    that only tries to load that module if it can find it, but does not produce an
    error if it cannot load it (which in fact is easy in Lmod).</p>
<p>Packages that are useful for EasyBuild 5:</p>
<ul>
<li><code>rich</code> for rich output such as the progress bars.</li>
<li><code>PyYAML</code> for using EasyStack files. It is useful in containers where we do not yet have it,
    but note that Cray Python comes with yaml, so we don't need it in EasyBuild installations 
    based on <code>cray-python</code>.. </li>
<li>It looks like EasyBuild 5 does not use <code>archspec</code> anymore. It may still be useful to include to
    invest system properties, but we leave it out </li>
<li><code>pycodestyle</code> for checking code style is also relatively innocent as it does not pull in other 
    dependencies. It is needed for <code>--check-style</code> and <code>--check-contrib</code>.</li>
<li><code>graphviz</code> is relatively innocent. It can be used for building dependency graphs in PDF or
    PNG formats and doesn't seem to need any dependencies.</li>
<li><code>python-graph-dot</code> builds dependency graphs in <code>.dit</code> format and this one also pulls in
    three other packages. </li>
<li><code>GitPython</code> could be added and has a reasonable number of dependencies, but we have no clear
    use case for it at the moment.</li>
<li><code>keyring</code> could be added, but it may not even be fully functional on the compute nodes.
    And it comes with a crazy number of dependencies that also need to be installed.</li>
</ul>
<p>To prepare a list of package versions and their dependencies, experiment in a virtual 
environment. For our EasyBuild 5.1.1 EasyConfig with <code>cray-python/3.11.7</code>, we explored:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>python3.11<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>ebtest
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">cd</span><span class="w"> </span>ebtest<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">source</span><span class="w"> </span>bin/activate
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1"># Need wheel as otherwise EasyBuild cannot properly install package is setuptools &lt; 70.1</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>pip3.11<span class="w"> </span>install<span class="w"> </span>wheel
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># The rich package</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>pip3.11<span class="w"> </span>install<span class="w"> </span>rich
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># This also pulls in mdurl, pygments and markdown-it-py</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="c1"># archspec</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>pip3.11<span class="w"> </span>install<span class="w"> </span>archspec
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>pip3.11<span class="w"> </span>install<span class="w"> </span>pycodestyle
</code></pre></div></p>
<p>Installing those packages, turned out to be painful though:</p>
<ul>
<li>
<p>Doing things the "regular" way, i.e., installing from sources, was cumbersome as now
    EasyBuild also requires that you install all build dependencies of those packages,
    and of course, do so in the right order. The result is an explosion of packages
    beyond control, and somehow we could not install <code>poetry</code> on top of Cray Python from sources.
    Moreover, those packages did not show up when we installed in the virtual environment,
    so it is hard labour to build the complete list.</p>
</li>
<li>
<p>What worked better, and is as good as all the packages that we finally selected were pure
    Python packages anyway, was installing from wheels. The only thing you need to do is then 
    use <code>'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl'</code> (most packages) or
    <code>'source_tmpl': '%(name)s-%(version)s-py2.py3-none-any.whl'</code> depending on the package
    (and you can put this into <code>exts_default_options</code> of course). Installation then went smoothly.</p>
</li>
<li>
<p>The horror then came with the EasyBuild sanity checks as it absolutely wanted 
    a compatible Python in the <code>PATH</code> which we wanted to avoid. So for now we add 
    the Python binary at the end of the search <code>PATH</code>.</p>
</li>
</ul>
</li>
<li>
<p>With the <code>EB_EasyBuildMeta</code> EasyBlock or its LUMI-specific variant, it is impossible to install EasyBuild
    so that it uses a different Python version than the one used by the <code>eb</code> command that does the installation.
    (Or is it impossible to use non-system Python?)</p>
<p>Moreover, after creating a bootstrap version using the <code>pip install</code> procedure, 
it turned out that the <code>EB_EasyBuildMeta</code> EasyBlock doesn't work with Cray Python, likely as 
the <code>wheel</code> package that provides <code>bdist_wheel</code> is missing and the version of 
<code>setuptools</code> is also older than 70.1 (the first version that actually contained the 
<code>bdist_wheel</code> command itself).</p>
<p>This was accomplished by using the <code>PackedBinary</code> generic EasyBlock with a custom
<code>install_cmds</code> similar to what is done in the EasyBuilders recipes for NextFlow.
The advantage of this is that we don't need to do any installation work anymore in a <code>postinstallcmds</code> 
which is also a cleaner approach. (We still use it in the Bundle for work on other packages though.)</p>
<p>After all, it is not clear though if the <code>EB_EasyBuildMeta</code> EasyBlock offers any advantages when used in a Bundle as it is mostly about 
sanity checks that are not executed properly anyway when EasyBuild is installed as component in a Bundle as
we started doing on LUMI at some point to include some other useful software for EasyBuild installations.</p>
</li>
<li>
<p>It turns out that EasyBuild 5.1 is less strict in its Python tests than EasyBuild 4.9:</p>
<ul>
<li>
<p>For 4.9.4, we need to add Cray Python to the <code>PATH</code> even though it is needed for nothing. 
    Otherwise the sanity checks fail.</p>
<p>Of course, in the logic of using EasyBuild as a library, one would even need 
to have the correct Python library as a depedency, but that could only cause issues
when EasyBuild is then used to install another Python version or packages for a different
Python version.</p>
</li>
<li>
<p>For 4.9.4, we also needed to add <code>PYTHONPATH</code> (which is not done automatically in our case)
    to pass all sanity checks.</p>
</li>
</ul>
<p>These are not needed anymore in 5.1.2.</p>
<p>So we developed a rather minimal <code>EasyBuild-5.1.2-bootstrap.eb</code> that can be installed with 4.9.4 
to then use it to install <code>EasyBuild-5.1.2.eb</code> without going through our software stack build
bootstrap procedure as for now we stick to 4.9.4 as the default EasyBuild for 25.03.</p>
</li>
<li>
<p>To make our EasyConfig work on the TDS without internet access, we also needed to install the
    <code>flit_core</code> and <code>wheel</code> package and make sure they were in the <code>PYTHONPATH</code> while doing the pip 
    installs of EasyBuild.</p>
</li>
<li>
<p>On SUSE 15 SP6, the semantics of the <code>sed</code> command have changed and it now resets the permissions of
    a file that is edited in-place to <code>600</code>, independent of the value of <code>umask</code>. So we need to restore
    the permissions on some of the scripts in the <code>bin</code> subdirectory.</p>
</li>
</ul>
<h3 id="fixes-needed-to-easyconfigs">Fixes needed to EasyConfigs</h3>
<h4 id="metis">METIS</h4>
<p>Issue: <code>preconfigopts</code> is not honoured while we want to use it to edit <code>metis.h</code> with <code>sed</code>.</p>
<p>The fix required changing 1 line the EasyBlock in 5.1.2:
<a href="https://github.com/easybuilders/easybuild-easyblocks/blob/easybuild-easyblocks-v5.1.2/easybuild/easyblocks/m/metis.py#L62">Line 62</a>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>            cmd = &quot;make %s config prefix=%s&quot; % (self.cfg[&#39;configopts&#39;], self.installdir)
</code></pre></div>
becomes
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>            cmd = &quot;%s make %s config prefix=%s&quot; % (self.cfg[&#39;preconfigopts&#39;], self.cfg[&#39;configopts&#39;], self.installdir)
</code></pre></div></p>
<h4 id="parmetis">ParMETIS</h4>
<p>Issue: <code>prebuildopts</code> is honoured correctly, <code>preconfigopts</code> and <code>preinstallopts</code> are 
not.</p>
<p>The fix requires changes to only 2 lines in the EasyBlock:</p>
<ul>
<li>
<p><a href="https://github.com/easybuilders/easybuild-easyblocks/blob/easybuild-easyblocks-v4.9.4/easybuild/easyblocks/p/parmetis.py#L95">Line 95-96</a>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>                cmd = &#39;cmake .. %s -DCMAKE_INSTALL_PREFIX=&quot;%s&quot;&#39; % (self.cfg[&#39;configopts&#39;],
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>                                                                   self.installdir)
</code></pre></div>
becomes
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>                cmd = &#39;%s cmake .. %s -DCMAKE_INSTALL_PREFIX=&quot;%s&quot;&#39; % (self.cfg[&#39;preconfigopts&#39;], self.cfg[&#39;configopts&#39;],
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>                                                                   self.installdir)
</code></pre></div></p>
</li>
<li>
<p><a href="https://github.com/easybuilders/easybuild-easyblocks/blob/easybuild-easyblocks-v4.9.4/easybuild/easyblocks/p/parmetis.py#L141">Line 141</a>:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>            cmd = &quot;make install %s&quot; % self.cfg[&#39;installopts&#39;]
</code></pre></div>
    becomes
    <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>            cmd = &quot;%s make install %s&quot; % (self.cfg[&#39;preinstallopts&#39;], self.cfg[&#39;installopts&#39;])
</code></pre></div></p>
</li>
</ul>
<p>This changes will also carry over easily to EasyBuild 5 as the major change to the EasyBlock 
there is the switch from <code>run_cmd</code> to <code>run_shell_cmd</code>. The line number of the second change has
changed though due to the removal of some Python 2 code.</p>
<h2 id="archived-easyconfigs">Archived EasyConfigs</h2>
<p>The EasyConfigs below are additional easyconfigs that are not directly available
on the system for installation. Users are advised to use the newer ones and these
archived ones are unsupported. They are still provided as a source of information
should you need this, e.g., to understand the configuration that was used for
earlier work on the system.</p>
<ul>
<li>
<p>Archived EasyConfigs from <a href="https://github.com/lumi-supercomputer/LUMI-SoftwareStack/blob/main/easybuild/easyconfigs/__archive__/e/EasyBuild">LUMI-SoftwareStack</a> - previously centrally installed software</p>
<ul>
<li>
<p><a href="EasyBuild-4.3.4/">EasyConfig EasyBuild-4.3.4.eb, with module EasyBuild/4.3.4</a></p>
</li>
<li>
<p><a href="EasyBuild-4.4.0/">EasyConfig EasyBuild-4.4.0.eb, with module EasyBuild/4.4.0</a></p>
</li>
<li>
<p><a href="EasyBuild-4.4.1/">EasyConfig EasyBuild-4.4.1.eb, with module EasyBuild/4.4.1</a></p>
</li>
<li>
<p><a href="EasyBuild-4.4.2/">EasyConfig EasyBuild-4.4.2.eb, with module EasyBuild/4.4.2</a></p>
<p>This is the version of EasyBuild used for the 21.08 software stack.</p>
</li>
<li>
<p><a href="EasyBuild-4.5.3-bare/">EasyConfig EasyBuild-4.5.3-bare.eb, with module EasyBuild/4.5.3-bare</a></p>
</li>
<li>
<p><a href="EasyBuild-4.5.3/">EasyConfig EasyBuild-4.5.3.eb, with module EasyBuild/4.5.3</a></p>
<p>This is the version of EasyBuild used for the 21.12 software stack.</p>
</li>
<li>
<p><a href="EasyBuild-4.5.5/">EasyConfig EasyBuild-4.5.5.eb, with module EasyBuild/4.5.5</a></p>
</li>
<li>
<p><a href="EasyBuild-4.6.0/">EasyConfig EasyBuild-4.6.0.eb, with module EasyBuild/4.6.0</a></p>
<p>This is the version of EasyBuild used for the 22.06 and 22.08 software stacks.</p>
</li>
<li>
<p><a href="EasyBuild-4.7.1/">EasyConfig EasyBuild-4.7.1.eb, with module EasyBuild/4.7.1</a></p>
<p>This is the version of EasyBuild used for the 22.12 and 23.03 software stacks.</p>
</li>
</ul>
</li>
</ul>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        




<footer class="md-footer">

  
  

  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      
    <div class="md-footer-copyright">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" 
             style="border-width:0" 
             src="https://i.creativecommons.org/l/by/4.0/80x15.png"
        />
      </a>
      This work is licensed under a&nbsp;
      <a rel="license" 
         href="http://creativecommons.org/licenses/by/4.0/"
      >
        Creative Commons Attribution 4.0 International License
      </a>
    </div>

      
      
<div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UCb31KOJ6Wqu0sRpIRi_k8Mw" target="_blank" rel="noopener" title="LUMI on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/lumi-supercomputer" target="_blank" rel="noopener" title="LUMI on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/LUMIhpc" target="_blank" rel="noopener" title="LUMI on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "toc.follow", "search.suggest", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>