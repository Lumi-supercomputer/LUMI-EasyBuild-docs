


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the LUMI software library">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>R - LUMI Software Library</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  
      

    

  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.body.addEventListener("click", function(ev) {
        if (ev.target instanceof HTMLElement) {
          var el = ev.target.closest("a[href^=http]")
          if (el)
            ga("send", "event", "outbound", "click", el.href)
        }
      })
    })
  </script>

    
    

  
  
  
    
  

  
  

  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LUMI Software Library - R" />
  <meta property="og:description" content="Documentation for the LUMI software library" />
  <meta property="og:url" content="None" />
  <meta property="og:image" content="assets/images/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@LUMIhpc" />
  <meta name="twitter:creator" content="@LUMIhpc" />
  <meta name="twitter:title" content="LUMI Software Library - R" />
  <meta name="twitter:description" content="Documentation for the LUMI software library" />
  <meta name="twitter:image" content="assets/images/banner.png" />

  <style>
    [data-md-color-primary="lumi"] {
      --md-primary-fg-color: hsla(0, 0%, 100%, 1);
      --md-primary-fg-color--light: hsla(0, 0%, 100%, 0.7);
      --md-primary-fg-color--dark: hsla(0, 0%, 0%, 0.07);
      --md-primary-bg-color: hsla(0, 0%, 0%, 0.87);
      --md-primary-bg-color--light: hsla(0, 0%, 0%, 0.54);
      --md-button-bg-color: hsla(207,100%,28%, 1);
      --md-button-bg-color--light: hsla(207,100%,38%, 1);
      --md-typeset-a-color: hsla(207,100%,28%, 1);
    }
    
    [data-md-color-accent="lumi"] {
      --md-accent-fg-color: hsla(0,0%,0%, 1);
      --md-accent-fg-color--transparent: hsla(0,0%,0%, 0.1);
      --md-accent-bg-color: hsla(0, 0%, 100%, 1);
      --md-accent-bg-color--light: hsla(0, 0%, 100%, 0.7);
    }
  </style>

  


  
  

    <link
      rel="stylesheet"
      href="../../assets/stylesheets/extra-a8af0af3d0.css"
    />
    <link
      rel="stylesheet"
      href="../../assets/stylesheets/overrides-5193e6f6df.css"
    />
    <link
      rel="stylesheet"
      id="typekit-fonts-css"
      href="https://use.typekit.net/nlo5lta.css?ver=5.5.3"
      type="text/css" media="all"
    />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lumi" data-md-color-accent="lumi">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#r" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LUMI Software Library" class="md-header__button md-logo" aria-label="LUMI Software Library" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LUMI Software Library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              R
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#a" class="md-tabs__link">
        
  
  
    
  
  a

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#b" class="md-tabs__link">
        
  
  
    
  
  b

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#c" class="md-tabs__link">
        
  
  
    
  
  c

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#d" class="md-tabs__link">
        
  
  
    
  
  d

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#e" class="md-tabs__link">
        
  
  
    
  
  e

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#f" class="md-tabs__link">
        
  
  
    
  
  f

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#g" class="md-tabs__link">
        
  
  
    
  
  g

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#h" class="md-tabs__link">
        
  
  
    
  
  h

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#i" class="md-tabs__link">
        
  
  
    
  
  i

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#j" class="md-tabs__link">
        
  
  
    
  
  j

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#k" class="md-tabs__link">
        
  
  
    
  
  k

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#l" class="md-tabs__link">
        
  
  
    
  
  l

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#m" class="md-tabs__link">
        
  
  
    
  
  m

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#n" class="md-tabs__link">
        
  
  
    
  
  n

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#o" class="md-tabs__link">
        
  
  
    
  
  o

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#p" class="md-tabs__link">
        
  
  
    
  
  p

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#q" class="md-tabs__link">
        
  
  
    
  
  q

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#r" class="md-tabs__link">
        
  
  
    
  
  r

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#s" class="md-tabs__link">
        
  
  
    
  
  s

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#t" class="md-tabs__link">
        
  
  
    
  
  t

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#u" class="md-tabs__link">
        
  
  
    
  
  u

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#v" class="md-tabs__link">
        
  
  
    
  
  v

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#w" class="md-tabs__link">
        
  
  
    
  
  w

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#x" class="md-tabs__link">
        
  
  
    
  
  x

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#y" class="md-tabs__link">
        
  
  
    
  
  y

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html#z" class="md-tabs__link">
        
  
  
    
  
  z

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../known_issues/" class="md-tabs__link">
        
  
  
    
  
  Issues

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../whats_new/" class="md-tabs__link">
        
  
  
    
  
  New

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LUMI Software Library" class="md-nav__button md-logo" aria-label="LUMI Software Library" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 723 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g id="Layer-2" serif:id="Layer 2">
        <g transform="matrix(1,0,0,1,0,175.883)">
            <path d="M0,-140.304L0,0L102.89,0L102.89,-24.599L26.658,-24.599L26.658,-140.304L0,-140.304Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,257.262,35.5793)">
            <path d="M0,140.304C-17.585,140.304 -32.083,135.347 -43.588,125.338C-55,115.423 -60.799,103.357 -60.799,89.14L-60.799,0L-34.328,0L-34.328,81.563C-34.328,92.413 -31.054,100.645 -24.319,105.976C-17.866,111.12 -9.728,113.74 0,113.74C9.728,113.74 17.865,111.12 24.319,105.976C31.054,100.645 34.328,92.413 34.328,81.563L34.328,0L60.799,0L60.799,89.14C60.799,103.357 55.093,115.329 43.588,125.338C32.083,135.347 17.585,140.304 0,140.304" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <g transform="matrix(1,0,0,1,550.374,119.668)">
            <path d="M0,-27.874L-43.588,20.671L-87.176,-27.874L-87.176,56.215L-113.74,56.215L-113.74,-84.089L-105.695,-84.089L-43.588,-13.47L18.614,-84.089L26.658,-84.089L26.658,56.215L0.094,56.215L0,-27.874Z" style="fill:rgb(29,29,27);fill-rule:nonzero;"/>
        </g>
        <rect x="695.604" y="35.486" width="26.658" height="140.397" style="fill:rgb(29,29,27);"/>
        <g transform="matrix(-1,0,0,1,722.262,-203.194)">
            <rect x="0" y="203.194" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
        <g transform="matrix(-1,0,0,1,722.262,203.194)">
            <rect x="0" y="0" width="722.262" height="8.175" style="fill:rgb(29,29,27);"/>
        </g>
    </g>
</svg>

    </a>
    LUMI Software Library
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#a" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    a
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#b" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    b
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#c" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    c
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#d" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    d
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#e" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    e
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#f" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    f
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#g" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    g
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#h" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    h
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#i" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    i
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#j" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    j
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#k" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    k
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#l" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    l
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#m" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    m
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#n" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    n
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#o" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    o
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#p" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    p
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#q" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    q
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#r" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    r
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#s" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    s
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#t" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    t
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#u" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    u
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#v" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#w" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    w
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#x" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    x
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#y" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    y
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html#z" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    z
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../known_issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Issues
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats_new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#license-information" class="md-nav__link">
    <span class="md-ellipsis">
      License information
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      User documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#known-restrictions" class="md-nav__link">
    <span class="md-ellipsis">
      Known restrictions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-noteworthy-packages-included-in-the-regular-easyconfig" class="md-nav__link">
    <span class="md-ellipsis">
      Some noteworthy packages included in the regular EasyConfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#some-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Some examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Some examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-shared-memory-multicore-computing-example-with-the-parallel-and-parallelly-packages" class="md-nav__link">
    <span class="md-ellipsis">
      A shared memory (multicore) computing example with the parallel and parallelly packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-distributed-memory-computing-example-with-the-snow-package" class="md-nav__link">
    <span class="md-ellipsis">
      A distributed memory computing example with the snow package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-with-foreach" class="md-nav__link">
    <span class="md-ellipsis">
      Examples with foreach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#foreach-with-the-dosnow-adapter-for-distributed-memory-computing" class="md-nav__link">
    <span class="md-ellipsis">
      foreach with the doSNOW adapter for distributed memory computing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#foreach-with-the-dompi-adapter-for-distributed-memory-computing" class="md-nav__link">
    <span class="md-ellipsis">
      foreach with the doMPI adapter for distributed memory computing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#information-on-the-web" class="md-nav__link">
    <span class="md-ellipsis">
      Information on the web
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-installable-modules-and-easyconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      User-installable modules (and EasyConfigs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Technical documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Some notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easybuild" class="md-nav__link">
    <span class="md-ellipsis">
      EasyBuild
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EasyBuild">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#r-packages-considered-for-inclusion" class="md-nav__link">
    <span class="md-ellipsis">
      R packages considered for inclusion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-421-for-cpegnu-2206-2208" class="md-nav__link">
    <span class="md-ellipsis">
      Version 4.2.1 for cpeGNU 22.06, 22.08
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-431-for-2212" class="md-nav__link">
    <span class="md-ellipsis">
      Version 4.3.1 for 22.12
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-432-for-2309" class="md-nav__link">
    <span class="md-ellipsis">
      Version 4.3.2 for 23.09
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-441-for-2403" class="md-nav__link">
    <span class="md-ellipsis">
      VErsion 4.4.1 for 24.03
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archived-easyconfigs" class="md-nav__link">
    <span class="md-ellipsis">
      Archived EasyConfigs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




<p><a href="../../">[package list]</a></p>
<h1 id="r">R</h1>
<p><span class='lumi-software-button-userinstallable-hover'><span class='lumi-software-button-userinstallable'></span></span></p>
<h2 id="license-information">License information</h2>
<p>R itself is available as free software under the
GNU General Public License, see the
<a href="https://www.r-project.org/COPYING">"COPYING" page on the R web site</a>.</p>
<p>Several of the EasyConfigs provide additional packages from <a href="https://cran.r-project.org/">CRAN</a> and other 
sources that may be licensed differently though. It is the User's responsibility
to ensure that all packages can be legally used by them as some may have liceses
that restrict use.</p>
<h2 id="user-documentation">User documentation</h2>
<p>We do provide some EasyBuild recipes for a plain R installation with only the
standard packages and Rmpi (the -raw versions, Rmpi provided as it needs special
options to install on LUMI), and a regular version with a lot of packages for
parallel computing already included.</p>
<h3 id="known-restrictions">Known restrictions</h3>
<p>It should be said that R was never developed for parallel computing. Parallel computing 
is only added through a mess of packages and not an intrinsic part of the language. 
Moreover the packages for parallel computing often evolved from multicore computing
on a workstation, or some disctributed computing on a network of workstations not
managed by a scheduler. As a result some packages are not fully functional on LUMI.</p>
<p>Some known restrictions:</p>
<ul>
<li>
<p><em>Rmpi</em>: <code>mpi.spawn.Rslaves</code> is not suppoted as Cray MPI does not support <code>MPI_Comm_spawn</code>.</p>
</li>
<li>
<p><em>parallel</em>: <code>detectCores</code> detects the total number of (virtual) cores, not the number of cores
    available to the application. This happens with both Cray R and R built with EasyBuild.</p>
<p>A solution is to use the <code>availableCores()</code> function from the 
<a href="https://cran.r-project.org/web/packages/parallelly/readme/README.html"><em>parallelly</em> package</a>.
That package can, e.g., recognize the CPU set a program will be running in when started 
through <code>srun</code>.</p>
<p>As a result of packages not being sophisticated enough to recognise they are not 
running on the full node, it can be expected that some packages using shared memory multiprocessing 
will launch one thread per virtual core rather one thread per available core, which can
lead to heavy oversubscription of the cores in your job and very bad parallel performance.</p>
</li>
<li>
<p>We have seen issues with some linear algebra operations when running in multithreaded
    mode. Two workarounds seem to help:</p>
<ul>
<li>
<p>Setting <code>OMP_STACKSIZE=256M</code> (and exporting this variable) which we have implemented in 
    the module for the 24.03 versions, and</p>
</li>
<li>
<p>using <code>ulimit -s 300000</code> </p>
</li>
</ul>
<p>The problem has been reported to HPE Cray. It might be fixed in the 25.03 release
of the programming environment.</p>
<p>Note that the issue also occurs with the <code>cray-R</code> module, but there you'll have 
to also set <code>OMP_STACKSIZE</code> by hand as we cannot change those modules.</p>
</li>
</ul>
<h3 id="some-noteworthy-packages-included-in-the-regular-easyconfig">Some noteworthy packages included in the regular EasyConfig</h3>
<ul>
<li>
<p>Shared memory parallel computing</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/parallelly/index.html"><em>parallelly</em></a>,
    with improvements over the system <em>parallel</em>  package that are more aware of 
    the typical environment on an HPC cluster.</li>
</ul>
</li>
<li>
<p>Distributed memory computing:</p>
<ul>
<li>
<p><a href="https://cran.r-project.org/web/packages/Rmpi/index.html"><em>Rmpi</em></a>, 
    build to interface properly with Cray MPICH.</p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/snow/index.html"><em>snow</em></a>, 
    Simple Network Of Workstations.</p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/snowfall/index.html"><em>snowfall</em></a></p>
</li>
</ul>
</li>
<li>
<p>Unified shared and distributed memory computing:</p>
<ul>
<li>
<p><a href="https://cran.r-project.org/web/packages/foreach/index.html"><em>foreach</em></a>
    with several adapters:</p>
<ul>
<li>
<p><a href="https://cran.r-project.org/web/packages/doParallel/index.html"><em>doParallel</em></a>
    for multicore computing.</p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/doMPI/index.html"><em>doMPI</em></a>
    interfacing with <em>Rmpi</em> for distributed memory parallel computing.</p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/doSNOW/index.html"><em>doSNOW</em></a>
    for interfacing with the <em>SNOW</em>  package for distributed memory parallel computing.</p>
</li>
</ul>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/future/index.html"><em>future</em></a>, see also 
    the <a href="https://future.futureverse.org/">documentation web site</a>.</p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/future.apply/index.html"><em>future.apply</em></a></p>
</li>
</ul>
</li>
<li>
<p>Interfacing with Slurm</p>
<ul>
<li>
<p><a href="https://cran.r-project.org/web/packages/batchtools/index.html"><em>batchtools</em></a></p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/packages/future.batchtools/index.html"><em>future.batchtools</em></a></p>
</li>
</ul>
</li>
</ul>
<h3 id="some-examples">Some examples</h3>
<p>These examples are inspired by the examples in the 
<a href="https://doku.lrz.de/parallelization-using-r-10747291.html">LRZ documentation, section "Parallelization Using R"</a></p>
<h4 id="a-shared-memory-multicore-computing-example-with-the-parallel-and-parallelly-packages">A shared memory (multicore) computing example with the <em>parallel</em> and <em>parallelly</em> packages</h4>
<p>Example R script that you can store in <code>script_parallel.R</code>: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">library</span><span class="p">(</span><span class="n">parallel</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nf">library</span><span class="p">(</span><span class="n">parallelly</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">ac</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">detectCores</span><span class="p">()</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nf">sprintf</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Number of cores according to parallel::detectCores: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ac</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">nc</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">availableCores</span><span class="p">()</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nf">sprintf</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Number of cores according to parallelly::availableCores: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nc</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="nf">print</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;lapply:&quot;</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="nf">lapply</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">))))</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="nf">print</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;mclapply with mc.cores = 1:&quot;</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="nf">mclapply</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">))),</span><span class="w"> </span><span class="n">mc.cores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="p">)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="nf">sprintf</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;mclapply with mc.cores = %d:&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nc</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="nf">mclapply</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">))),</span><span class="w"> </span><span class="n">mc.cores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nc</span><span class="p">)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="p">)</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="nf">print</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;mclapply without mc.cores argument:&quot;</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">    </span><span class="nf">mclapply</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">))))</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="p">)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="nf">print</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Not sure what is happening here as user time goes down but elapsed goes up.&quot;</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>
<p>Example submit script to store in <code>submit.slurm</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">#SBATCH --job-name=R_parallel_test</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">#SBATCH --partition=small</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">#SBATCH --time=2:00</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1">#SBATCH --cpus-per-task=8</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1">#SBATCH --output=%x_%j.txt</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c1">#SBATCH --account=project_46YXXXXXX</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>module<span class="w"> </span>load<span class="w"> </span>LUMI/23.09<span class="w"> </span>partition/C<span class="w"> </span>R/4.3.2-cpeGNU-23.09
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Running Rscript from </span><span class="k">$(</span>which<span class="w"> </span>Rscript<span class="k">)</span><span class="s2">.&#39;\n&quot;</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>srun<span class="w"> </span>Rscript<span class="w"> </span>script_parallel.R
</code></pre></div>
<p>The <code>srun</code> command doesn't seem to make a difference here but it usually ensures that
all Slurm flags, including hints for multithreading, are correctly applied to the
executable that is starting.</p>
<p>Note the difference between the <code>detectCores</code> routine from <code>parallel</code> and the
<code>availableCores</code> routine from <code>parallelly</code>. The former fails to correctly detect the
resources available for R while the latter does detect that there are only 8 CPUs 
available.</p>
<p>This script was written by someone who is not an expert to to whom it is completely
unclear what is happening in the last call to <code>mclapply</code> as the user time goes doen
while elapsed goes up.</p>
<h4 id="a-distributed-memory-computing-example-with-the-snow-package">A distributed memory computing example with the <em>snow</em>  package</h4>
<p>Example R script <code>script_snow.R</code>: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nf">library</span><span class="p">(</span><span class="n">snow</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">cl</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">makeCluster</span><span class="p">()</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="nf">parLapply</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">167</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">        </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">)))</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="nf">stopCluster</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="nf">q</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="s">&quot;no&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Example submit script <code>submit.slurm</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="ch">#!/usr/bin/bash</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">#SBATCH --job-name=snow_test</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1">#SBATCH --partition=small</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1">#SBATCH --time=5:00</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">#SBATCH --ntasks=4</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1">#SBATCH --hint=nomultithread</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="c1">#SBATCH --output=%x_%j.txt</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1">#SBATCH --account=project_46YXXXXXX</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>module<span class="w"> </span>load<span class="w"> </span>LUMI/23.09<span class="w"> </span>partition/C
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>module<span class="w"> </span>load<span class="w"> </span>R/4.3.2-cpeGNU-23.09
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 2 task\n\n&quot;</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_snow.R
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 3 task\n\n&quot;</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_snow.R
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 4 tasks\n\n&quot;</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_snow.R
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="s2"> tasks\n\n&quot;</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="w"> </span>-O<span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_snow.R
</code></pre></div>
<p>The <code>-W</code> option ensures that the <code>srun</code> command will end 10 seconds after the first
process ends as an additional precaution.</p>
<p>Note that we use the <code>EBROOTR</code> environment variable for the path to the <code>RMPISNOW</code> 
script which is needed to run this example. This variable is defined by all EasyBuild-installed
R modules so one does not need to adapt the line when switching to a newer version of R.
The <code>RMPISNOW</code> command takes care of some initialisations in
particular when the job spans multiple nodes.</p>
<p>There is another important thing to note in this example. If you analyse the timings 
in the results carefully you will see that the 3-task case runs in half the time of
the 2-task case and the 4-task case in little over one third of the time of the
2-task case. This is because one of the MPI tasks is used internally as the master
process and is in fact not doing much while the remaining tasks are used 
to build the cluster and do the computations in the <code>parLapply</code> call. This is solved
with the last <code>srun</code> call: we start one more task than requested in the <code>#SBATCH</code>
lines which we can do by adding the <code>-O</code> or <code>--overcommit</code> flag to the <code>srun</code> command.
We now get a speedup of about 4 compared to the timing we got with 2 tasks which 
effectively was running the sequentially as there was a master and one slave.</p>
<h4 id="examples-with-foreach">Examples with <em>foreach</em></h4>
<h5 id="foreach-for-shared-memory-multi-core-computation"><em>foreach</em> for shared memory (multi-core) computation</h5>
<p>For this example, we combine the <em>foreach</em>  package with the <em>doParallel</em>  adapter 
package and with <em>parallelly</em> to determine the number of available cores.</p>
<p>The R script <code>script_foreach_MC.R</code> is:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nf">library</span><span class="p">(</span><span class="n">foreach</span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nf">library</span><span class="p">(</span><span class="n">doParallel</span><span class="p">)</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nf">library</span><span class="p">(</span><span class="n">parallelly</span><span class="p">)</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nf">sprintf</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Running on %d core(s).&quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">availableCores</span><span class="p">())</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nf">registerDoParallel</span><span class="p">(</span><span class="n">cores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">availableCores</span><span class="p">())</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nf">foreach</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="o">%dopar%</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">)))</span><span class="w">  </span><span class="c1"># parallel execution</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="p">)</span>
</code></pre></div>
<p>The corresponding job script <code>submit.slurm</code> is</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1">#SBATCH --job-name=R_foreach_doParallel_test</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1">#SBATCH --partition=standard</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">#SBATCH --time=2:00</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="c1">#SBATCH --cpus-per-task=8</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1">#SBATCH --hint=nomultithread</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="c1">#SBATCH --output=%x_%j.txt</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="c1">#SBATCH --account=project_46YXXXXXX</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>module<span class="w"> </span>load<span class="w"> </span>LUMI/23.09<span class="w"> </span>partition/C<span class="w"> </span>R/4.3.2-cpeGNU-23.09
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Running Rscript from </span><span class="k">$(</span>which<span class="w"> </span>Rscript<span class="k">)</span><span class="s2">.&#39;\n&quot;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n\nStarting on 1 core.\n\n&quot;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">1</span><span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MC.R
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\n\nStarting on 4 cores.\n\n&quot;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>-c<span class="w"> </span><span class="m">4</span><span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MC.R
</code></pre></div>
<p>The first <code>srun</code> command starts the example on a single core, so it effectively runs in a serial way,
while the second <code>srun</code> command uses 4 cores. When you inspect the results you'll notice that the <code>user</code>
and <code>system</code> time in the second case are a bit higher which is normal as parallel computing alsways 
comes with some overhead, but from the <code>elapsed</code> time we get a speedup of 3.4.</p>
<h4 id="foreach-with-the-dosnow-adapter-for-distributed-memory-computing"><em>foreach</em>  with the <em>doSNOW</em>  adapter for distributed memory computing</h4>
<p>The R script <code>script_foreach_SNOW.R</code> is now</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nf">library</span><span class="p">(</span><span class="n">foreach</span><span class="p">)</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nf">library</span><span class="p">(</span><span class="n">doSNOW</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">cl</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">makeCluster</span><span class="p">()</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nf">registerDoSNOW</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="nf">foreach</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="o">%dopar%</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">)))</span><span class="w">  </span><span class="c1"># parallel execution</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="p">)</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="nf">stopCluster</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
</code></pre></div>
<p>The <code>foreach</code> line is the same as before, but the setup is different. This implies that the core
of the code actually remains the same as before. </p>
<p>The script is started with the jobscript <code>submit.slurm</code>: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="ch">#!/usr/bin/bash</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">#SBATCH --job-name=R_foreach_SNOW_test</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1">#SBATCH --partition=small</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1">#SBATCH --time=5:00</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1">#SBATCH --ntasks=4</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1">#SBATCH --hint=nomultithread</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">#SBATCH --output=%x_%j.txt</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1">#SBATCH --account=project_46YXXXXXX</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>module<span class="w"> </span>load<span class="w"> </span>LUMI/23.09<span class="w"> </span>partition/C
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>module<span class="w"> </span>load<span class="w"> </span>R/4.3.2-cpeGNU-23.09
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 2 task\n\n&quot;</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_foreach_SNOW.R
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 3 task\n\n&quot;</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_foreach_SNOW.R
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 4 tasks\n\n&quot;</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_foreach_SNOW.R
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="s2"> tasks\n\n&quot;</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>srun<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-n<span class="w"> </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="w"> </span>-O<span class="w"> </span><span class="nv">$EBROOTR</span>/lib/R/library/snow/RMPISNOW<span class="w"> </span>&lt;script_foreach_SNOW.R
</code></pre></div>
<p>The <code>user</code> and <code>system</code> time is rather irrelevant now as that is for the master process. That it is still
rather high is likely due to a busy waiting strategy. The <code>elapsed</code> time shows again the behaviour we've
seen before already, with the time for 2 tasks the time for serial execution of the <code>foreach</code> 
function.</p>
<h4 id="foreach-with-the-dompi-adapter-for-distributed-memory-computing"><em>foreach</em>  with the <em>doMPI</em>  adapter for distributed memory computing</h4>
<p>The R script <code>script_foreach_MPI.R</code> is now</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nf">library</span><span class="p">(</span><span class="n">foreach</span><span class="p">)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nf">library</span><span class="p">(</span><span class="n">doMPI</span><span class="p">)</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">cl</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">startMPIcluster</span><span class="p">()</span><span class="w">  </span><span class="c1"># use verbose = TRUE for detailed worker message output</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nf">registerDoMPI</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="nf">system.time</span><span class="p">(</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="nf">foreach</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="o">%dopar%</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">sort</span><span class="p">(</span><span class="nf">runif</span><span class="p">(</span><span class="m">1e7</span><span class="p">)))</span><span class="w">  </span><span class="c1"># parallel execution</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="p">)</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="nf">closeCluster</span><span class="p">(</span><span class="n">cl</span><span class="p">)</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="nf">mpi.quit</span><span class="p">()</span>
</code></pre></div>
<p>The <code>foreach</code> line is again the same as before, but the setup is different. </p>
<p>The script is started with the jobscript <code>submit.slurm</code>: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="ch">#!/usr/bin/bash</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">#SBATCH --job-name=R_foreach_SNOW_test</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">#SBATCH --partition=small</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1">#SBATCH --time=5:00</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c1">#SBATCH --ntasks=4</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1">#SBATCH --hint=nomultithread</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c1">#SBATCH --output=%x_%j.txt</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">#SBATCH --account=project_46YXXXXXX</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>module<span class="w"> </span>load<span class="w"> </span>LUMI/23.09<span class="w"> </span>partition/C
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>module<span class="w"> </span>load<span class="w"> </span>R/4.3.2-cpeGNU-23.09
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 2 task\n\n&quot;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MPI.R
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 3 task\n\n&quot;</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">3</span><span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MPI.R
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on 4 task\n\n&quot;</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">4</span><span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MPI.R
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;\\n# Running on </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="s2"> tasks\n\n&quot;</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>srun<span class="w"> </span>-n<span class="w"> </span><span class="k">$((</span><span class="nv">SLURM_NTASKS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span><span class="w"> </span>-O<span class="w"> </span>Rscript<span class="w"> </span>script_foreach_MPI.R
</code></pre></div>
<p>It appears that here also one process is used as the master in the background while the other processes
execute the <code>foreach</code> commands. With this adapter we can actually start the script in the way we are
used to start parallel programs, but we still need to oversubscribe (because of the master process)
to get the best speedup from using 4 tasks (and hence 4 cores).</p>
<h3 id="information-on-the-web">Information on the web</h3>
<ul>
<li>
<p><a href="https://doku.lrz.de/parallelization-using-r-10747291.html">LRZ documentation: "Parallelization Using R"</a></p>
<p>The job scripts need to be adapted to LUMI but the general principles are valid.</p>
</li>
<li>
<p><a href="https://cvw.cac.cornell.edu/r/parallelr">Cornell virtual workshop on R, section "Parallel R"</a></p>
</li>
<li>
<p><a href="https://cran.r-project.org/web/views/HighPerformanceComputing.html">CRAN Task View: High-Performance and Parallel Computing with R</a></p>
</li>
</ul>
<h2 id="user-installable-modules-and-easyconfigs">User-installable modules (and EasyConfigs)</h2>
<p>Install with the EasyBuild-user module:
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>eb &lt;easyconfig&gt; -r
</code></pre></div>
To access module help after installation and get reminded for which stacks and partitions the module is
installed, use <code>module spider R/&lt;version&gt;</code>.</p>
<p>EasyConfig:</p>
<ul>
<li>
<p><a href="R-4.3.2-cpeGNU-23.09-raw/">EasyConfig R-4.3.2-cpeGNU-23.09-raw.eb, will build R/4.3.2-cpeGNU-23.09-raw</a></p>
</li>
<li>
<p><a href="R-4.3.2-cpeGNU-23.09/">EasyConfig R-4.3.2-cpeGNU-23.09.eb, will build R/4.3.2-cpeGNU-23.09</a></p>
</li>
<li>
<p><a href="R-4.4.1-cpeGNU-24.03-OpenMP-raw/">EasyConfig R-4.4.1-cpeGNU-24.03-OpenMP-raw.eb, will build R/4.4.1-cpeGNU-24.03-OpenMP-raw</a></p>
<p>This EasyConfig offers R with only the base R packages and - because it is hard to install properly
with Rcmd - Rmpi already pre-installed.</p>
</li>
<li>
<p><a href="R-4.4.1-cpeGNU-24.03-OpenMP/">EasyConfig R-4.4.1-cpeGNU-24.03-OpenMP.eb, will build R/4.4.1-cpeGNU-24.03-OpenMP</a></p>
<p>This EasyConfig provides R compiled with the multithreaded LibSci libraries (hence the -OpenMP suffix)
and with packages for parallel computing and other packages offered by Cray-R already installed.
It also contains some packages for benchmarking.</p>
</li>
</ul>
<h2 id="technical-documentation">Technical documentation</h2>
<p>This module may be a replacement for some users for the HPE-provided version in cray-R.</p>
<p>The <code>-raw</code>-version of the EasyConfigs is for R without any additional packages, while
the other EasyConfigs offer examples of how to add packages.</p>
<ul>
<li><a href="http://www.r-project.org">R web site</a></li>
</ul>
<h3 id="some-notes">Some notes</h3>
<ul>
<li><code>bin/R</code> is really only a script that starts R. The relevant executable
    is in <code>lib64/R/bin/exec</code>.</li>
</ul>
<h3 id="easybuild">EasyBuild</h3>
<ul>
<li>
<p><a href="https://github.com/easybuilders/easybuild-easyconfigs/tree/develop/easybuild/easyconfigs/r/R">Support in the EasyBuilders repository</a></p>
<p>R uses an <a href="https://github.com/easybuilders/easybuild-easyblocks/blob/develop/easybuild/easyblocks/r/r.py">application-specific EasyBlock</a></p>
</li>
<li>
<p><a href="https://github.com/eth-cscs/production/tree/master/easybuild/easyconfigs/r/R">Support in the CSCS repository</a></p>
</li>
</ul>
<h4 id="r-packages-considered-for-inclusion">R packages considered for inclusion</h4>
<ul>
<li>Packages for parallel computing and their dependencies<ul>
<li><a href="https://cran.r-project.org/web/packages/Rmpi/">Rmpi</a></li>
<li><a href="https://cran.r-project.org/web/packages/Rcpp">Rcpp</a></li>
<li><a href="https://cran.r-project.org/web/packages/codetools/">codetools</a></li>
<li><a href="https://cran.r-project.org/web/packages/RUnit">Runit</a></li>
<li><a href="https://cran.r-project.org/web/packages/tinytest">tinytest</a></li>
<li><a href="https://cran.r-project.org/web/packages/backports">backports</a></li>
<li><a href="https://cran.r-project.org/web/packages/rlang">rlang</a></li>
<li><a href="https://cran.r-project.org/web/packages/parallelly">parallelly</a></li>
<li><a href="https://cran.r-project.org/web/packages/iterators">iterators</a></li>
<li><a href="https://cran.r-project.org/web/packages/foreach">foreach</a></li>
<li><a href="https://cran.r-project.org/web/packages/doParallel">doParallel</a></li>
<li><a href="https://cran.r-project.org/web/packages/doMPI">doMPI</a></li>
<li><a href="https://cran.r-project.org/web/packages/snow">snow</a></li>
<li><a href="https://cran.r-project.org/web/packages/snowfall">snowfall</a></li>
<li><a href="https://cran.r-project.org/web/packages/doSNOW">doSNOW</a></li>
<li><a href="https://cran.r-project.org/web/packages/base64url">base64url</a></li>
<li><a href="https://cran.r-project.org/web/packages/brew">brew</a></li>
<li><a href="https://cran.r-project.org/web/packages/checkmate">checkmate</a></li>
<li><a href="https://cran.r-project.org/web/packages/data.table">data.table</a></li>
<li><a href="https://cran.r-project.org/web/packages/fs">fs</a></li>
<li><a href="https://cran.r-project.org/web/packages/cli">cli</a></li>
<li><a href="https://cran.r-project.org/web/packages/glue">glue</a></li>
<li><a href="https://cran.r-project.org/web/packages/lifecycle">lifecycle</a></li>
<li><a href="https://cran.r-project.org/web/packages/pkgconfig">pkgconfig</a></li>
<li><a href="https://cran.r-project.org/web/packages/vctrs">vctrs</a></li>
<li><a href="https://cran.r-project.org/web/packages/hms">hms</a></li>
<li><a href="https://cran.r-project.org/web/packages/prettyunits">prettyunits</a></li>
<li><a href="https://cran.r-project.org/web/packages/R6">R6</a></li>
<li><a href="https://cran.r-project.org/web/packages/crayon">crayon</a></li>
<li><a href="https://cran.r-project.org/web/packages/progress">progress</a></li>
<li><a href="https://cran.r-project.org/web/packages/rappdirs">rappdirs</a></li>
<li><a href="https://cran.r-project.org/web/packages/stringi">stringi</a></li>
<li><a href="https://cran.r-project.org/web/packages/withr">withr</a></li>
<li><a href="https://cran.r-project.org/web/packages/digest">digest</a></li>
<li><a href="https://cran.r-project.org/web/packages/batchtools">batchtools</a></li>
<li><a href="https://cran.r-project.org/web/packages/globals">globals</a></li>
<li><a href="https://cran.r-project.org/web/packages/listenv">listenv</a></li>
<li><a href="https://cran.r-project.org/web/packages/future">future</a></li>
<li><a href="https://cran.r-project.org/web/packages/future.apply">future.apply</a></li>
<li><a href="https://cran.r-project.org/web/packages/future.batchtools">future.batchtools</a></li>
</ul>
</li>
<li>Additional packages included in Cray-R<ul>
<li><a href="https://cran.r-project.org/web/packages/lattice">lattice</a></li>
<li><a href="https://cran.r-project.org/web/packages/Matrix">Matrix</a></li>
<li><a href="https://cran.r-project.org/web/packages/MASS">MASS</a></li>
<li><a href="https://cran.r-project.org/web/packages/class">class</a></li>
<li><a href="https://cran.r-project.org/web/packages/foreign">foreign</a></li>
<li><a href="https://cran.r-project.org/web/packages/KernSmooth">KernSmooth</a></li>
<li><a href="https://cran.r-project.org/web/packages/nlme">nlme</a></li>
<li><a href="https://cran.r-project.org/web/packages/mgcv">mgcv</a></li>
<li><a href="https://cran.r-project.org/web/packages/nnet">nnet</a></li>
<li><a href="https://cran.r-project.org/web/packages/rpart">rpart</a></li>
<li><a href="https://cran.r-project.org/web/packages/spatial">spatial</a></li>
<li><a href="https://cran.r-project.org/web/packages/survival">survival</a></li>
</ul>
</li>
<li>Additional packages on top of the previous two groups for benchmarking 
    and their dependencies<ul>
<li><a href="https://cran.r-project.org/web/packages/fansi">fansi</a></li>
<li><a href="https://cran.r-project.org/web/packages/utf8">utf8</a></li>
<li><a href="https://cran.r-project.org/web/packages/pillar">pillar</a></li>
<li><a href="https://cran.r-project.org/web/packages/profmem">profmem</a></li>
<li><a href="https://cran.r-project.org/web/packages/magrittr">magrittr</a></li>
<li><a href="https://cran.r-project.org/web/packages/tibble">tibble</a></li>
<li><a href="https://cran.r-project.org/web/packages/bench">bench</a></li>
<li><a href="https://cran.r-project.org/web/packages/microbenchmark">microbenchmark</a></li>
<li><a href="https://cran.r-project.org/web/packages/SuppDists">SuppDists</a>.
    Used by the popular R-benchmark-25.R script, 
    originally developed by Philippe Grosjean, UMons.
    See also the <a href="https://mac.r-project.org/benchmarks/">"R benchmarks" page on the R for macOS site</a>.</li>
<li><a href="https://cran.r-project.org/web/packages/generics">generics</a></li>
<li><a href="https://cran.r-project.org/web/packages/tidyselect">tidyselect</a></li>
<li><a href="https://cran.r-project.org/web/packages/dplyr">dplyr</a></li>
<li><a href="https://cran.r-project.org/web/packages/curl">curl</a></li>
<li><a href="https://cran.r-project.org/web/packages/jsonlite">jsonlite</a></li>
<li><a href="https://cran.r-project.org/web/packages/mime">mime</a></li>
<li><a href="https://cran.r-project.org/web/packages/sys">sys</a></li>
<li><a href="https://cran.r-project.org/web/packages/askpass">askpass</a></li>
<li><a href="https://cran.r-project.org/web/packages/openssl">openssl</a></li>
<li><a href="https://cran.r-project.org/web/packages/httr">httr</a></li>
<li><a href="https://cran.r-project.org/web/packages/stringi">stringi</a></li>
<li><a href="https://cran.r-project.org/web/packages/benchmarkmeData">benchmarkmeData</a></li>
<li><a href="https://cran.r-project.org/web/packages/benchmarkme">benchmarkme</a>.
    For the <a href="https://cran.r-project.org/web/packages/benchmarkme/vignettes/a_introduction.html">"Crowd sourced benchmarks" page at CRAN</a>.</li>
</ul>
</li>
</ul>
<h4 id="version-421-for-cpegnu-2206-2208">Version 4.2.1 for cpeGNU 22.06, 22.08</h4>
<ul>
<li>
<p>Worked from the EasyBuilders EasyConfig but removed all OpenGL-related stuff
    and also removed all extensions to create the <code>-raw</code> version which has no
    external packages at all.</p>
</li>
<li>
<p>PROBLEM: Suffers from the multiple Cray LibSci libraries linked in problem, and
    it is not clear how they come in.</p>
<ul>
<li>
<p>The R <code>infoSession()</code> command shows that the non-MPI multithreaded library
    is used.</p>
</li>
<li>
<p>The configure script does discover the right option to compile with OpenMP.</p>
</li>
<li>
<p>Enforcing the OpenMP compiler flag through <code>toolchainopts</code> though fails. It 
    is not used at link time, resulting in undefined OpenMP symbols when linking.</p>
</li>
</ul>
<p>SOLUTION: Enforce OpenMP through <code>toolchainopts</code> and manually add <code>-fopenmp</code> to
<code>LDFLAGS</code> in <code>preconfigopts</code>.</p>
</li>
<li>
<p>Extensions: List based on the foss-2022a version of R in EasyBuild.</p>
<ul>
<li>
<p>Rmpi:</p>
<ul>
<li>
<p>Typically uses an EasyBlock, but that EasyBlock does not support the Cray
    environment so we avoid using it and instead manually build the right
    <code>--configure-args</code> flag for the R installation command.</p>
</li>
<li>
<p>There is still a problem as when loading <code>Rmpi.so</code>, the load fails because
    <code>mpi_universe_size</code> cannot be found. Now this is a routine defined in Rmpi 
    itself but only compiles in certain cases. However, it looks like routines 
    that reference to this function are not correctly disabled when this routine
    is not included in the compilation.</p>
<p>Now in fact, the configure script does correctly determine that it should 
add <code>-DMPI2</code> to the command line. However, it does so after a faulty <code>-I</code>
flag that does not contain a directory. Hence the compiler interprets the
<code>-DMPI2</code> flag as the argument of <code>-I</code> instead.</p>
<p>The solution to this last problem is a bit complicated.</p>
<ul>
<li>
<p>The empty <code>-I</code> argument is a bug in the configure script that occurs 
    when <code>--with-Rmpi-include</code> is not used.</p>
</li>
<li>
<p>Adding just any directory with that argument does not work; the configure
    script checks if it contains <code>mpi.h</code>. We used an environment variable to
    find the directory that Cray MPI uses.</p>
</li>
<li>
<p>But adding <code>--with-Rmpi-include</code> also requires adding <code>--with-Rmpi-libpath</code>
    for which we used the same environment variable.</p>
</li>
<li>
<p>So hopefully these options do not conflict with anything the Cray compiler
    wrappers add. <code>--with-Rmpi-include</code> and <code>--with-Rmpi-libpath</code> really should
    not be needed when using the Cray wrappers.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="version-431-for-2212">Version 4.3.1 for 22.12</h3>
<ul>
<li>
<p>Based on the 4.2.1 work but now focused on adding packages for parallel
    computing (and developed the USER.md page explaining options for parallel
    computing).</p>
</li>
<li>
<p>One way to figure out how to do this is to install the <code>-raw</code> version and
    then add the desired packages by hand and see what other packages R pulls in
    and when it does so.</p>
</li>
</ul>
<h3 id="version-432-for-2309">Version 4.3.2 for 23.09</h3>
<ul>
<li>Quick port with minor version updates of the 22.12 one.</li>
</ul>
<h3 id="version-441-for-2403">VErsion 4.4.1 for 24.03</h3>
<ul>
<li>
<p>Quick port with version updates of the 23.09 EasyConfigs.</p>
</li>
<li>
<p>Changed the naming to stress that we link with the multithreaded BLAS libraries.</p>
</li>
</ul>
<h2 id="archived-easyconfigs">Archived EasyConfigs</h2>
<p>The EasyConfigs below are additional easyconfigs that are not directly available
on the system for installation. Users are advised to use the newer ones and these
archived ones are unsupported. They are still provided as a source of information
should you need this, e.g., to understand the configuration that was used for
earlier work on the system.</p>
<ul>
<li>
<p>Archived EasyConfigs from <a href="https://github.com/lumi-supercomputer/LUMI-EasyBuild-contrib/blob/main/easybuild/easyconfigs/__archive__/r/R">LUMI-EasyBuild-contrib</a> - previously user-installable software</p>
<ul>
<li>
<p><a href="R-4.2.1-cpeGNU-22.06-raw/">EasyConfig R-4.2.1-cpeGNU-22.06-raw.eb, with module R/4.2.1-cpeGNU-22.06-raw</a></p>
</li>
<li>
<p><a href="R-4.2.1-cpeGNU-22.06/">EasyConfig R-4.2.1-cpeGNU-22.06.eb, with module R/4.2.1-cpeGNU-22.06</a></p>
</li>
<li>
<p><a href="R-4.2.1-cpeGNU-22.08-raw/">EasyConfig R-4.2.1-cpeGNU-22.08-raw.eb, with module R/4.2.1-cpeGNU-22.08-raw</a></p>
</li>
<li>
<p><a href="R-4.2.1-cpeGNU-22.08/">EasyConfig R-4.2.1-cpeGNU-22.08.eb, with module R/4.2.1-cpeGNU-22.08</a></p>
</li>
<li>
<p><a href="R-4.2.3-cpeGNU-22.12-raw/">EasyConfig R-4.2.3-cpeGNU-22.12-raw.eb, with module R/4.2.3-cpeGNU-22.12-raw</a></p>
</li>
<li>
<p><a href="R-4.2.3-cpeGNU-22.12/">EasyConfig R-4.2.3-cpeGNU-22.12.eb, with module R/4.2.3-cpeGNU-22.12</a></p>
</li>
<li>
<p><a href="R-4.3.1-cpeGNU-22.12-raw/">EasyConfig R-4.3.1-cpeGNU-22.12-raw.eb, with module R/4.3.1-cpeGNU-22.12-raw</a></p>
</li>
<li>
<p><a href="R-4.3.1-cpeGNU-22.12/">EasyConfig R-4.3.1-cpeGNU-22.12.eb, with module R/4.3.1-cpeGNU-22.12</a></p>
</li>
</ul>
</li>
</ul>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        




<footer class="md-footer">

  
  

  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      
    <div class="md-footer-copyright">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" 
             style="border-width:0" 
             src="https://i.creativecommons.org/l/by/4.0/80x15.png"
        />
      </a>
      This work is licensed under a&nbsp;
      <a rel="license" 
         href="http://creativecommons.org/licenses/by/4.0/"
      >
        Creative Commons Attribution 4.0 International License
      </a>
    </div>

      
      <div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UCb31KOJ6Wqu0sRpIRi_k8Mw" target="_blank" rel="noopener" title="LUMI on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/lumi-supercomputer" target="_blank" rel="noopener" title="LUMI on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/LUMIhpc" target="_blank" rel="noopener" title="LUMI on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "toc.follow", "search.suggest", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>